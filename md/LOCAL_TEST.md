# 本地测试指南

## 快速开始

### 1. 启动本地服务器

在项目根目录下运行：

```bash
cd d:\AI\web-tts	ts部署测试
npm start
```

或者：

```bash
cd d:\AI\web-tts	ts部署测试
npm run dev
```

服务器将在 http://localhost:3050 启动

### 2. 访问应用

打开浏览器，访问：http://localhost:3050

## 功能测试清单

### 1. 语音列表加载
- [ ] 页面加载后，语音列表自动显示
- [ ] 显示所有可用的语音
- [ ] 每个语音显示名称、语言、性别和采样率

### 2. 语音筛选
- [ ] 使用语言筛选器筛选语音
- [ ] 使用性别筛选器筛选语音
- [ ] 组合使用两个筛选器
- [ ] 清空筛选器显示所有语音

### 3. 语音选择
- [ ] 点击语音项可以选中
- [ ] 选中的语音有视觉高亮
- [ ] 切换语音时高亮状态正确更新

### 4. 文本输入
- [ ] 可以输入文本内容
- [ ] 字符计数实时更新
- [ ] 达到 1000 字符限制时显示警告

### 5. 生成语音
- [ ] 输入文本并选择语音后，"生成语音"按钮可用
- [ ] 点击按钮后显示"生成中..."状态
- [ ] 生成成功后自动播放音频
- [ ] 播放器显示在页面下方

### 6. 播放控制
- [ ] 音频可以正常播放
- [ ] 可以暂停/继续播放
- [ ] 可以调整播放进度
- [ ] 可以调整音量

### 7. 下载音频
- [ ] 点击"下载音频"按钮可以下载音频文件
- [ ] 下载的文件可以正常播放

### 8. 响应式设计
- [ ] 在桌面浏览器显示正常
- [ ] 在移动设备显示正常
- [ ] 窗口大小改变时布局自适应

## 测试不同语音

建议测试以下语音：

### 中文语音
- 搜索 "zh-CN" 筛选中文语音
- 测试不同的中文语音（男声/女声）
- 输入中文文本测试

### 英文语音
- 搜索 "en-US" 筛选美式英语语音
- 测试不同的英文语音（男声/女声）
- 输入英文文本测试

### 其他语言
- 尝试其他语言的语音
- 验证多语言支持

## 测试用例示例

### 测试用例 1：基本功能
1. 打开应用
2. 等待语音列表加载
3. 选择一个语音
4. 输入文本："Hello, this is a test."
5. 点击"生成语音"
6. 验证音频正常播放

### 测试用例 2：筛选功能
1. 打开应用
2. 选择语言筛选器为 "zh-CN"
3. 验证只显示中文语音
4. 选择性别筛选器为 "Female"
5. 验证只显示中文女声
6. 清空筛选器
7. 验证显示所有语音

### 测试用例 3：边界条件
1. 输入 1000 字符文本
2. 验证字符计数显示 "1000/1000"
3. 尝试输入更多字符
4. 验证无法继续输入
5. 选择语音并生成
6. 验证长文本也能正常转换

## 常见问题排查

### 1. 语音列表无法加载
- 检查服务器是否正常运行
- 打开浏览器控制台查看错误信息
- 检查网络连接
- 验证 https://tts.2068.online/api/tts/voices 是否可访问

### 2. 生成语音失败
- 检查是否已选择语音
- 检查文本输入是否为空
- 查看浏览器控制台错误信息
- 检查服务器日志

### 3. 音频无法播放
- 检查浏览器是否支持音频播放
- 尝试下载音频文件后播放
- 检查音频文件是否损坏

### 4. 样式显示异常
- 清除浏览器缓存
- 硬刷新页面 (Ctrl+F5)
- 检查浏览器控制台是否有 CSS 加载错误

## 停止服务器

在运行服务器的终端窗口中按 `Ctrl+C` 停止服务器。

## 下一步

本地测试通过后，可以按照 DEPLOYMENT.md 的指南将项目部署到 Vercel 平台。
